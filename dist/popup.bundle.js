document.addEventListener("DOMContentLoaded",(function(){chrome.storage.sync.get(["apiKey"],(function(e){const t=document.getElementById("apiKey");e.apiKey&&(t.value="â€¢".repeat(20)+e.apiKey.slice(-4),t.dataset.masked="true")})),document.getElementById("apiKey").addEventListener("focus",(function(e){"true"===e.target.dataset.masked&&(e.target.value="",e.target.dataset.masked="false")})),document.getElementById("saveKey").addEventListener("click",(function(){const e=document.getElementById("apiKey").value;chrome.storage.sync.set({apiKey:e},(function(){const e=document.getElementById("saveKey"),t=e.textContent;e.textContent="Saved!",e.style.backgroundColor="#059669",setTimeout((()=>{e.textContent=t,e.style.backgroundColor=""}),2e3)}))}))}));